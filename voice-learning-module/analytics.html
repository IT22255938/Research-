<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceLearn Analytics - Session & Progress Tracking</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #667eea;
            --primary-dark: #5568d3;
            --secondary: #764ba2;
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #f44336;
            --light-bg: #f5f7fa;
            --border-color: #e0e0e0;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
        }
        
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-dark);
        }
        
        .app-header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .logo {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--primary);
        }
        
        .nav-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .nav-buttons button {
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-buttons button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .nav-buttons button.active {
            background: var(--secondary);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            transform: translateY(-5px);
        }
        
        .card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .stat-box {
            text-align: center;
            padding: 15px;
            background: var(--light-bg);
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 0.85em;
            color: var(--text-light);
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary);
        }
        
        .progress-container {
            margin-bottom: 15px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .progress-bar {
            background: var(--border-color);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .activity-performance {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .activity-item {
            background: var(--light-bg);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid var(--primary);
        }
        
        .activity-item.good {
            border-left-color: var(--success);
        }
        
        .activity-item.warning {
            border-left-color: var(--warning);
        }
        
        .activity-item.needs-work {
            border-left-color: var(--danger);
        }
        
        .activity-emoji {
            font-size: 1.5em;
            display: block;
            margin-bottom: 5px;
        }
        
        .activity-name {
            font-size: 0.8em;
            color: var(--text-dark);
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .activity-score {
            font-size: 1.3em;
            font-weight: bold;
            color: var(--primary);
        }
        
        .session-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .session-item {
            background: var(--light-bg);
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
            font-size: 0.9em;
        }
        
        .session-item.success {
            border-left-color: var(--success);
        }
        
        .session-item.warning {
            border-left-color: var(--warning);
        }
        
        .session-time {
            font-size: 0.8em;
            color: var(--text-light);
            margin-top: 5px;
        }
        
        .chart-container {
            margin-top: 20px;
            padding: 15px;
            background: var(--light-bg);
            border-radius: 8px;
        }
        
        .chart-bar {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            gap: 10px;
        }
        
        .chart-label {
            min-width: 120px;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .chart-fill {
            flex: 1;
            height: 24px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .chart-value {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: bold;
            font-size: 0.85em;
        }
        
        .insights {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--success);
            margin-top: 20px;
        }
        
        .insights h4 {
            color: #2e7d32;
            margin-bottom: 10px;
        }
        
        .insights p {
            color: #558b2f;
            font-size: 0.95em;
            line-height: 1.5;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        button.btn {
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button.btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        button.btn.secondary {
            background: var(--text-light);
        }
        
        button.btn.secondary:hover {
            background: var(--text-dark);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="app-header">
        <div class="logo">üìä VoiceLearn Analytics</div>
        <div class="nav-buttons">
            <button class="tab-btn active" onclick="showTab('overview')">Overview</button>
            <button class="tab-btn" onclick="showTab('sessions')">Sessions</button>
            <button class="tab-btn" onclick="showTab('performance')">Performance</button>
            <button class="tab-btn" onclick="showTab('insights')">Insights</button>
            <button class="btn secondary" onclick="backToDashboard()">‚Üê Back</button>
        </div>
    </div>

    <div class="container">
        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="analytics-grid">
                <!-- Overall Stats -->
                <div class="card">
                    <h3>üìà Overall Statistics</h3>
                    <div class="stat-box">
                        <div class="stat-label">Total XP Earned</div>
                        <div class="stat-value" id="totalXP">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Accuracy Rate</div>
                        <div class="stat-value" id="accuracyRate">0%</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Current Streak</div>
                        <div class="stat-value" id="currentStreak">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Activities Completed</div>
                        <div class="stat-value" id="activitiesCount">0</div>
                    </div>
                </div>

                <!-- Today's Progress -->
                <div class="card">
                    <h3>üìÖ Today's Progress</h3>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>Questions Answered</span>
                            <span id="todayQuestions">0/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="todayProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>Daily Goal Progress</span>
                            <span id="dailyGoal">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="goalProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="stat-box" style="margin-top: 15px;">
                        <div class="stat-label">Time Spent Today</div>
                        <div class="stat-value" id="timeSpentToday">0m</div>
                    </div>
                </div>

                <!-- Difficulty Level Performance -->
                <div class="card">
                    <h3>üéØ Difficulty Performance</h3>
                    <div class="chart-container">
                        <div class="chart-bar">
                            <div class="chart-label">Easy</div>
                            <div class="chart-fill" style="width: 80%;">
                                <div class="chart-value" id="easyScore">80%</div>
                            </div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-label">Medium</div>
                            <div class="chart-fill" style="width: 65%;">
                                <div class="chart-value" id="mediumScore">65%</div>
                            </div>
                        </div>
                        <div class="chart-bar">
                            <div class="chart-label">Hard</div>
                            <div class="chart-fill" style="width: 50%;">
                                <div class="chart-value" id="hardScore">50%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Activity Performance Grid -->
            <div class="card">
                <h3>üèÜ Activity Performance</h3>
                <div class="activity-performance" id="activityPerformance">
                    <!-- Dynamically populated -->
                </div>
            </div>

            <!-- Insights -->
            <div class="insights" id="insightsBox">
                <h4>üí° Smart Insights</h4>
                <p id="insightText">Complete more activities to unlock personalized insights!</p>
            </div>
        </div>

        <!-- Sessions Tab -->
        <div id="sessions" class="tab-content">
            <div class="card">
                <h3>üìã Session History</h3>
                <div class="session-list" id="sessionList">
                    <!-- Dynamically populated -->
                </div>
                <div class="button-group">
                    <button class="btn" onclick="exportSessions()">üì• Export Sessions</button>
                    <button class="btn secondary" onclick="clearSessions()">üóëÔ∏è Clear History</button>
                </div>
            </div>
        </div>

        <!-- Performance Tab -->
        <div id="performance" class="tab-content">
            <div class="analytics-grid">
                <div class="card">
                    <h3>üìä Learning Progress</h3>
                    <div class="chart-container">
                        <div id="learningChart">
                            <!-- Dynamically populated -->
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üéØ Activity Strength Chart</h3>
                    <div id="strengthChart" class="chart-container">
                        <!-- Dynamically populated -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Insights Tab -->
        <div id="insights" class="tab-content">
            <div class="card">
                <h3>üß† Learning Patterns Analysis</h3>
                <div id="patternAnalysis" style="line-height: 1.8;">
                    <!-- Dynamically populated -->
                </div>
            </div>

            <div class="card">
                <h3>üéì Recommendations</h3>
                <div id="recommendations" style="line-height: 1.8;">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Load analytics data
        function loadAnalyticsData() {
            console.log('üìä Loading analytics data...');
            
            // Get stats from localStorage
            const saved = localStorage.getItem('voiceLearnStats');
            const stats = saved ? JSON.parse(saved) : {};
            
            // Get session history
            const sessionHistory = localStorage.getItem('sessionHistory');
            const sessions = sessionHistory ? JSON.parse(sessionHistory) : [];
            
            // Get activity stats
            const activityStats = localStorage.getItem('activityStats');
            const activities = activityStats ? JSON.parse(activityStats) : {};
            
            console.log('Stats:', stats);
            console.log('Sessions:', sessions);
            console.log('Activities:', activities);
            
            updateOverviewTab(stats, sessions, activities);
            updateSessionsTab(sessions);
            updatePerformanceTab(stats, activities);
            updateInsightsTab(stats, activities, sessions);
        }

        function updateOverviewTab(stats, sessions, activities) {
            // Overall statistics
            document.getElementById('totalXP').textContent = stats.totalXP || 0;
            
            const accuracy = stats.totalAttempts > 0
                ? Math.round((stats.correctAnswers / stats.totalAttempts) * 100)
                : 0;
            document.getElementById('accuracyRate').textContent = accuracy + '%';
            
            document.getElementById('currentStreak').textContent = stats.streak || 0;
            document.getElementById('activitiesCount').textContent = stats.activitiesDone || 0;

            // Today's progress
            const today = new Date().toDateString();
            const todayAttempts = sessions.filter(s => new Date(s.timestamp).toDateString() === today).length;
            document.getElementById('todayQuestions').textContent = todayAttempts + '/10';
            document.getElementById('todayProgress').style.width = (todayAttempts * 10) + '%';
            document.getElementById('dailyGoal').textContent = (todayAttempts * 10) + '%';
            document.getElementById('goalProgress').style.width = (todayAttempts * 10) + '%';

            // Time spent today
            const timeSpent = sessions.filter(s => new Date(s.timestamp).toDateString() === today)
                .reduce((sum, s) => sum + (s.duration || 0), 0);
            document.getElementById('timeSpentToday').textContent = Math.round(timeSpent / 60) + 'm';

            // Difficulty performance
            const easyCorrect = stats.easyCorrect || 0;
            const easyTotal = stats.easyTotal || 1;
            const easyAccuracy = Math.round((easyCorrect / easyTotal) * 100);
            document.getElementById('easyScore').textContent = easyAccuracy + '%';
            document.querySelectorAll('.chart-fill')[0].style.width = easyAccuracy + '%';

            const mediumCorrect = stats.mediumCorrect || 0;
            const mediumTotal = stats.mediumTotal || 1;
            const mediumAccuracy = Math.round((mediumCorrect / mediumTotal) * 100);
            document.getElementById('mediumScore').textContent = mediumAccuracy + '%';
            document.querySelectorAll('.chart-fill')[1].style.width = mediumAccuracy + '%';

            const hardCorrect = stats.hardCorrect || 0;
            const hardTotal = stats.hardTotal || 1;
            const hardAccuracy = Math.round((hardCorrect / hardTotal) * 100);
            document.getElementById('hardScore').textContent = hardAccuracy + '%';
            document.querySelectorAll('.chart-fill')[2].style.width = hardAccuracy + '%';

            // Activity performance
            const activityEmojis = {
                'counting': 'üî¢',
                'numbers': 'üéØ',
                'math': '‚ûï',
                'alphabet': 'üî§',
                'colors': 'üé®',
                'phonics': 'üîä',
                'time': 'üïê'
            };

            const activityNames = {
                'counting': 'Counting',
                'numbers': 'Numbers',
                'math': 'Math',
                'alphabet': 'Alphabet',
                'colors': 'Colors',
                'phonics': 'Phonics',
                'time': 'Time'
            };

            let activityHTML = '';
            for (let [key, name] of Object.entries(activityNames)) {
                const actStats = activities[key] || { correct: 0, total: 0 };
                const score = actStats.total > 0 ? Math.round((actStats.correct / actStats.total) * 100) : 0;
                const status = score >= 80 ? 'good' : score >= 60 ? 'warning' : 'needs-work';
                
                activityHTML += `
                    <div class="activity-item ${status}">
                        <div class="activity-emoji">${activityEmojis[key]}</div>
                        <div class="activity-name">${name}</div>
                        <div class="activity-score">${score}%</div>
                    </div>
                `;
            }
            document.getElementById('activityPerformance').innerHTML = activityHTML;

            // Insights
            generateInsights(stats, activities);
        }

        function updateSessionsTab(sessions) {
            const sessionList = document.getElementById('sessionList');
            
            if (sessions.length === 0) {
                sessionList.innerHTML = '<p style="text-align: center; color: #999;">No sessions yet. Start learning!</p>';
                return;
            }

            let html = '';
            sessions.slice(-20).reverse().forEach(session => {
                const date = new Date(session.timestamp);
                const status = session.correct > (session.total / 2) ? 'success' : 'warning';
                const accuracy = session.total > 0 ? Math.round((session.correct / session.total) * 100) : 0;
                
                html += `
                    <div class="session-item ${status}">
                        <strong>${session.activity} - ${session.difficulty || 'Unknown'}</strong>
                        <div>‚úÖ ${session.correct}/${session.total} correct (${accuracy}%)</div>
                        <div class="session-time">‚è∞ ${date.toLocaleString()}</div>
                    </div>
                `;
            });
            
            sessionList.innerHTML = html;
        }

        function updatePerformanceTab(stats, activities) {
            // Learning progress chart
            const learningChart = document.getElementById('learningChart');
            let chartHTML = '<strong>Daily Progress (Last 7 Days)</strong><br>';
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dayStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                chartHTML += `<div style="margin: 8px 0; color: #666;">${dayStr}: --</div>`;
            }
            learningChart.innerHTML = chartHTML;

            // Activity strength chart
            const strengthChart = document.getElementById('strengthChart');
            const activityNames = {
                'counting': 'üî¢ Counting',
                'numbers': 'üéØ Numbers',
                'math': '‚ûï Math',
                'alphabet': 'üî§ Alphabet',
                'colors': 'üé® Colors',
                'phonics': 'üîä Phonics',
                'time': 'üïê Time'
            };

            let strengthHTML = '';
            for (let [key, name] of Object.entries(activityNames)) {
                const actStats = activities[key] || { correct: 0, total: 0 };
                const score = actStats.total > 0 ? Math.round((actStats.correct / actStats.total) * 100) : 0;
                strengthHTML += `
                    <div class="chart-bar">
                        <div class="chart-label">${name}</div>
                        <div class="chart-fill" style="width: ${Math.max(10, score)}%;">
                            <div class="chart-value">${score}%</div>
                        </div>
                    </div>
                `;
            }
            strengthChart.innerHTML = strengthHTML;
        }

        function updateInsightsTab(stats, activities, sessions) {
            const patternAnalysis = document.getElementById('patternAnalysis');
            const recommendations = document.getElementById('recommendations');

            let patterns = '<strong>üìä Your Learning Patterns:</strong><br><br>';
            
            if (stats.totalAttempts === 0) {
                patterns += '<p>üìå You haven\'t started any activities yet. Begin learning to see patterns!</p>';
            } else {
                patterns += `<p>‚úÖ You\'ve completed <strong>${stats.totalAttempts}</strong> questions with <strong>${Math.round((stats.correctAnswers / stats.totalAttempts) * 100)}%</strong> accuracy</p>`;
                patterns += `<p>üî• Your current streak is <strong>${stats.streak}</strong> correct answers in a row</p>`;
                patterns += `<p>üèÜ You\'ve earned <strong>${stats.totalXP}</strong> XP from <strong>${stats.activitiesDone}</strong> activities</p>`;
                
                // Find best and worst activity
                let bestActivity = null;
                let worstActivity = null;
                let bestScore = 0;
                let worstScore = 101;

                for (let [key, actStats] of Object.entries(activities)) {
                    if (actStats.total > 0) {
                        const score = Math.round((actStats.correct / actStats.total) * 100);
                        if (score > bestScore) {
                            bestScore = score;
                            bestActivity = key;
                        }
                        if (score < worstScore) {
                            worstScore = score;
                            worstActivity = key;
                        }
                    }
                }

                if (bestActivity) {
                    const emoji = {'counting': 'üî¢', 'numbers': 'üéØ', 'math': '‚ûï', 'alphabet': 'üî§', 'colors': 'üé®', 'phonics': 'üîä', 'time': 'üïê'}[bestActivity] || '‚≠ê';
                    patterns += `<p>‚≠ê You\'re doing great at <strong>${bestActivity}</strong> (${bestScore}%)!</p>`;
                }
                
                if (worstActivity) {
                    const emoji = {'counting': 'üî¢', 'numbers': 'üéØ', 'math': '‚ûï', 'alphabet': 'üî§', 'colors': 'üé®', 'phonics': 'üîä', 'time': 'üïê'}[worstActivity] || 'üìå';
                    patterns += `<p>üìå You might want to focus on <strong>${worstActivity}</strong> (${worstScore}%)</p>`;
                }
            }

            patternAnalysis.innerHTML = patterns;

            // Recommendations
            let recs = '<strong>üéØ Personalized Recommendations:</strong><br><br>';
            
            if (stats.totalAttempts === 0) {
                recs += '<p>1Ô∏è‚É£ Start with the Easy difficulty level to build confidence</p>';
                recs += '<p>2Ô∏è‚É£ Try the Counting Adventure first - it\'s a great introduction!</p>';
                recs += '<p>3Ô∏è‚É£ Use the üéß Listen button to hear questions clearly</p>';
            } else {
                const accuracy = Math.round((stats.correctAnswers / stats.totalAttempts) * 100);
                
                if (accuracy < 50) {
                    recs += '<p>üìå Your accuracy is low. Try Easy difficulty to build confidence!</p>';
                } else if (accuracy < 70) {
                    recs += '<p>‚ö° You\'re doing okay! Practice more with Medium difficulty to improve</p>';
                } else if (accuracy < 85) {
                    recs += '<p>üåü Great job! Try Hard difficulty for more of a challenge</p>';
                } else {
                    recs += '<p>üèÜ Excellent! You\'re mastering the content. Keep it up!</p>';
                }

                if (stats.streak > 5) {
                    recs += '<p>üî• Amazing streak! Keep the momentum going</p>';
                }
                
                recs += '<p>üí° Practice daily for the best results - consistent learning builds knowledge!</p>';
                recs += '<p>üìà Try different activities to develop well-rounded skills</p>';
            }

            recommendations.innerHTML = recs;
        }

        function generateInsights(stats, activities) {
            const insightText = document.getElementById('insightText');
            
            if (stats.totalAttempts === 0) {
                insightText.textContent = 'üöÄ Complete your first activity to unlock insights!';
                return;
            }

            const accuracy = Math.round((stats.correctAnswers / stats.totalAttempts) * 100);
            let insight = '';

            if (accuracy >= 90) {
                insight = 'üåü Outstanding! You\'re mastering the material. Consider challenging yourself with harder levels!';
            } else if (accuracy >= 75) {
                insight = '‚ú® Great progress! You\'re on the right track. Keep practicing to reach mastery!';
            } else if (accuracy >= 60) {
                insight = 'üìö Good effort! Focus on areas where you\'re struggling to improve faster.';
            } else {
                insight = 'üí™ Keep going! Learning takes practice. Try the Easy level for more confidence building.';
            }

            insightText.textContent = insight;
        }

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        function exportSessions() {
            const sessionHistory = localStorage.getItem('sessionHistory');
            const sessions = sessionHistory ? JSON.parse(sessionHistory) : [];
            
            const csv = 'Activity,Difficulty,Correct,Total,Accuracy,Timestamp\n' +
                sessions.map(s => `${s.activity},${s.difficulty || 'N/A'},${s.correct},${s.total},${s.correct}/${s.total},${s.timestamp}`).join('\n');
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'voicelearn-sessions.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function clearSessions() {
            if (confirm('‚ö†Ô∏è Are you sure you want to clear all session history? This cannot be undone!')) {
                localStorage.removeItem('sessionHistory');
                location.reload();
            }
        }

        function backToDashboard() {
            window.location.href = 'gamification.html';
        }

        // Load data on page load
        window.addEventListener('load', function() {
            loadAnalyticsData();
        });
    </script>
</body>
</html>
